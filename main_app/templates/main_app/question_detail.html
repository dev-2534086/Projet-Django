{% extends "main_app/base.html" %}
{% block title %}{{ question.question_text }}{% endblock %}

{% block content %}
<div class="container mt-5 mb-5 pt-5">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">{{ question.question_text }}</h3>
      <small>Publié le {{ question.pub_date|date:"d/m/Y H:i" }}</small>
    </div>
    <div class="card-body">
      <form method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}

        <!-- Nom -->
        <div class="mb-3">
          <label for="{{ form.name.id_for_label }}" class="form-label">Nom <span class="text-danger">*</span></label>
          {{ form.name }}
          {% if form.name.errors %}
            <div class="text-danger small">{{ form.name.errors }}</div>
          {% endif %}
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
          {{ form.email }}
          {% if form.email.errors %}
            <div class="text-danger small">{{ form.email.errors }}</div>
          {% endif %}
        </div>

        <!-- Choix (menu déroulant) -->
        <div class="mb-3">
          <label for="{{ form.choice.id_for_label }}" class="form-label">Votre réponse <span class="text-danger">*</span></label>
          {{ form.choice }}
          {% if form.choice.errors %}
            <div class="text-danger small">{{ form.choice.errors }}</div>
          {% endif %}
        </div>

        <!-- Centres d'intérêt (cases à cocher) -->
        <div class="mb-3">
          <label class="form-label">Centres d'intérêt</label>
          <div>
            {% for checkbox in form.interests %}
              <div class="form-check form-check-inline">
                {{ checkbox.tag }}
                <label class="form-check-label" for="{{ checkbox.id_for_label }}">{{ checkbox.choice_label }}</label>
              </div>
            {% endfor %}
          </div>
          {% if form.interests.errors %}
            <div class="text-danger small">{{ form.interests.errors }}</div>
          {% endif %}
        </div>

        <!-- Image -->
        <div class="mb-3">
          <label for="{{ form.image.id_for_label }}" class="form-label">Photo (optionnel)</label>
          {{ form.image }}
          {% if form.image.errors %}
            <div class="text-danger small">{{ form.image.errors }}</div>
          {% endif %}
        </div>

        <!-- Bouton -->
        <button type="submit" class="btn btn-success">Soumettre ma réponse</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
